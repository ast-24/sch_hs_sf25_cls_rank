# フロントエンド設計書

## 概要

スタッフ入力用とランキング表示用で2つのWebUIを用意する

## 機能要件

### スタッフ入力用

スタッフが1問ごとに正解/不正解を入力し送信を行う  
履歴の編集なども必要  
できるだけリロードセーフにする(変数ではなくURLによる状態管理)  
詳細は[要件定義書](./req.md)を参照

### ランキング表示用

ランキングをブラウザで表示し、プロジェクターで投影する  
ポーリングかWebSocketを使用し、リアルタイム性とホワイトアウト防止の両立を図る(要はAJAX)  
詳細は[要件定義書](./req.md)を参照

## 非機能要件

[対応デバイス]

- スタッフ入力用: スマートフォン/PC
- ランキング表示用: PC

## 仕様

### スタッフ入力用

URL: `/staff/*`

表面上はパスを分けるが内部はSPAとする

#### フロー

1. スタッフがブラウザで /staff にアクセス
2. シフト開始ボタンを押し、担当のルームを選択
3. ラウンド開始ボタンを押し、ユーザ識別子発行or入力
4. 正解/不正解を選択し送信
5. リアルタイムでスコアが計算/更新され、ランキングに反映
6. 4に戻る or 7に進む
7. ゲームが終了したら、ラウンド終了ボタンを押してラウンドを終了&結果(スコア/ランク)を表示
8. 3に戻る or 9に進む
9. シフト終了ボタンを押してシフトを終了

#### ページ

- `/staff`: スタッフ用のトップページ `./enter`と`./results`へのリンクを表示
- `/staff/enter`: スタッフの結果入力用ページ
- `/staff/enter?room=:room_id`: ルームごとの結果入力ページ
- `/staff/enter/:user_id?room=:room_id`: ユーザごとの結果入力ページ(ラウンド)
- `/staff/results`: 結果リストページ
- `/staff/results/:user_id`: ユーザごとの結果表示/編集ページ

### ランキング表示用

URL: `/ranking/*`

#### ページ

- `/ranking`: ランキング表示ページ
