# フロントエンド設計書

## 概要

スタッフ入力用とランキング表示用で2つのWebUIを用意する

## 機能要件

詳細は[要件定義書](../requirement.md)を参照

### スタッフ入力用

スタッフが1問ごとに正解/不正解を入力し送信を行う  
履歴の編集なども可能  

### ランキング表示用

ランキングをブラウザで表示し、プロジェクターで投影する  
教室内用は手動更新、教室外用はポーリングで更新する

## 非機能要件

[対応デバイス]

- スタッフ入力用: スマートフォン
- ランキング表示用: PC

## 仕様

MPAで実装する（SPAはオーバーエンジニアリングのため）

### ページ構成

#### メインページ

- `/`: トップページ（ランキング表示・スタッフ用へのナビゲーション）

#### ランキング表示ページ

URL: `/ranking/*`

- `/ranking/interactive`: スタッフが画面遷移 教室内用（インタラクティブモード）
- `/ranking/viewonly`: 自動更新 教室外用（ビューオンリーモード）

#### スタッフ入力ページ

URL: `/staff/*`

- `/staff/enter`: スタッフの結果入力用ページトップ（担当ルーム・プレイヤー・ラウンド選択）
- `/staff/enter/inround`: ラウンド中の結果入力ページ（正解/不正解/パス入力）
- `/staff/enter/afterround`: ラウンド終了後の結果確認ページ
- `/staff/users`: プレイヤー管理ページ（統計確認・名前変更等）
- `/staff/users/results`: プレイヤー別結果表示/編集ページ

### フロー

#### スタッフ入力フロー

1. スタッフがブラウザで `/staff/enter` にアクセス
2. 担当のルームを選択
3. プレイヤーを選択（新規作成 or 既存プレイヤーID入力）
4. ラウンドを選択（新規作成 or 既存ラウンドで続行）
5. `/staff/enter/inround` に遷移し、問題ごとに正解/不正解/パスを入力
6. リアルタイムでスコアが計算/更新され、ランキングに反映
7. 5に戻る or ラウンド終了ボタンで8に進む
8. `/staff/enter/afterround` でラウンド結果とプレイヤー統計を表示
9. 新ラウンド開始 or 担当終了を選択

#### ランキング表示フロー

**インタラクティブモード（教室内）:**

1. 待機画面を表示
2. Enterキー押下で最新ラウンドランキング表示
3. Enterキー押下で全体ランキング表示

5分間無操作で待機画面に戻る

**ビューオンリーモード（教室外）:**

全体ランキングを常時表示
定期的に自動更新
